(function(a){a.fn.highchartTable=function(){var d=["column","line","area","spline","pie"];var e=function(l,k){var m=a(l).data(k);if(typeof m!="undefined"){var h=m.split(".");var f=window[h[0]];for(var g=1,j=h.length;g<j;g++){f=f[h[g]]}return f}};this.each(function(){var x=a(this);var V=a(x);var S=1;var q=a("caption",x);var Q=q.length?a(q[0]).text():"";var O;if(V.data("graph-container-before")!=1){var T=V.data("graph-container");if(!T){throw"graph-container data attribute is mandatory"}if(T[0]==="#"||T.indexOf("..")===-1){O=a(T)}else{var z=x;var t=T;while(t.indexOf("..")!==-1){t=t.replace(/^.. /,"");z=z.parent()}O=a(t,z)}if(O.length!==1){throw"graph-container is not available in this DOM or available multiple times"}O=O[0]}else{V.before("<div></div>");O=V.prev();O=O[0]}var I=V.data("graph-type");if(!I){throw"graph-type data attribute is mandatory"}if(a.inArray(I,d)==-1){throw"graph-container data attribute must be one of "+d.join(", ")}var g=V.data("graph-stacking");if(!g){g="normal"}var o=V.data("graph-datalabels-enabled");var N=V.data("graph-inverted")==1;var y=a("thead th",x);var s=[];var A=[];var G=0;var F=false;y.each(function(ac,W){var af=a(W);var Y=af.data("graph-value-scale");var ab=af.data("graph-type");if(a.inArray(ab,d)==-1){ab=I}var i=af.data("graph-stack-group");if(i){F=true}var Z=af.data("graph-datalabels-enabled");if(typeof Z=="undefined"){Z=o}var aa=af.data("graph-yaxis");if(typeof aa!="undefined"&&aa=="1"){S=2}var ae=af.data("graph-skip")==1;if(ae){G=G+1}var X={libelle:af.text(),skip:ae,indexTd:ac-G-1,color:af.data("graph-color"),visible:!af.data("graph-hidden"),yAxis:typeof aa!="undefined"?aa:0,dashStyle:af.data("graph-dash-style")||"solid",dataLabelsEnabled:Z==1,dataLabelsColor:af.data("graph-datalabels-color")||V.data("graph-datalabels-color")};var ad=af.data("graph-vline-x");if(typeof ad=="undefined"){X.scale=typeof Y!="undefined"?parseFloat(Y):1;X.graphType=ab=="column"&&N?"bar":ab;X.stack=i;X.unit=af.data("graph-unit");s[ac]=X}else{X.x=ad;X.height=af.data("graph-vline-height");X.name=af.data("graph-vline-name");A[ac]=X}});var p=[];a(s).each(function(W,X){if(W!=0&&!X.skip){var Y={name:X.libelle+(X.unit?" ("+X.unit+")":""),data:[],type:X.graphType,stack:X.stack,color:X.color,visible:X.visible,yAxis:X.yAxis,dashStyle:X.dashStyle,marker:{enabled:false},dataLabels:{enabled:X.dataLabelsEnabled,color:X.dataLabelsColor,align:V.data("graph-datalabels-align")||(I=="column"&&N==1?undefined:"center")}};if(X.dataLabelsEnabled){var i=e(x,"graph-datalabels-formatter");if(i){Y.dataLabels.formatter=function(){return i(this.y)}}}p.push(Y)}});a(A).each(function(i,W){if(typeof W!="undefined"&&!W.skip){p.push({name:W.libelle,data:[{x:W.x,y:0,name:W.name},{x:W.x,y:W.height,name:W.name}],type:"spline",color:W.color,visible:W.visible,marker:{enabled:false}})}});var H=[];var h=e(x,"graph-point-callback");var M=V.data("graph-xaxis-type")=="datetime";var R=a("tbody:first tr",x);R.each(function(W,X){if(!!a(X).data("graph-skip")){return}var i=a("td",X);i.each(function(Y,ad){var ak;var ae=s[Y];if(ae.skip){return}var Z=a(ad);if(Y==0){ak=Z.text();H.push(ak)}else{var ai=Z.text();var ag=p[ae.indexTd];if(ai.length==0){if(!M){ag.data.push(null)}}else{var aa=ai.replace(/\s/g,"").replace(/,/,".");ak=Math.round(parseFloat(aa)*ae.scale*100)/100;var aj=Z.data("graph-x");if(M){aj=a("td",a(X)).first().text();var ac=c(aj);aj=ac.getTime()-ac.getTimezoneOffset()*60*1000}var af=Z.data("graph-name");var ab={name:typeof af!="undefined"?af:ai,y:ak,x:aj};if(h){ab.events={click:function(){return h(this)}}}if(ae.graphType==="pie"){if(Z.data("graph-item-highlight")){ab.sliced=1}}var ah=Z.data("graph-item-color");if(typeof ah!="undefined"){ab.color=ah}ag.data.push(ab)}}})});var n=[];var D;for(D=1;D<=S;D++){var l={title:{text:typeof V.data("graph-yaxis-"+D+"-title-text")!="undefined"?V.data("graph-yaxis-"+D+"-title-text"):null},max:typeof V.data("graph-yaxis-"+D+"-max")!="undefined"?V.data("graph-yaxis-"+D+"-max"):null,min:typeof V.data("graph-yaxis-"+D+"-min")!="undefined"?V.data("graph-yaxis-"+D+"-min"):null,reversed:V.data("graph-yaxis-"+D+"-reversed")=="1",opposite:V.data("graph-yaxis-"+D+"-opposite")=="1",tickInterval:V.data("graph-yaxis-"+D+"-tick-interval")||null,labels:{rotation:V.data("graph-yaxis-"+D+"-rotation")||0},startOnTick:V.data("graph-yaxis-"+D+"-start-on-tick")!=="0",endOnTick:V.data("graph-yaxis-"+D+"-end-on-tick")!=="0",stackLabels:{enabled:V.data("graph-yaxis-"+D+"-stacklabels-enabled")=="1"},gridLineInterpolation:V.data("graph-yaxis-"+D+"-grid-line-interpolation")||null};var L=e(x,"graph-yaxis-"+D+"-formatter-callback");if(L){l.labels.formatter=function(){return L(this.value)}}n.push(l)}var k=["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"];var K=[];var v=typeof Highcharts.theme!="undefined"&&typeof Highcharts.theme.colors!="undefined"?Highcharts.theme.colors:[];var m=V.data("graph-line-shadow");var w=V.data("graph-line-width")||2;for(var P=0;P<9;P++){var E="graph-color-"+(P+1);K.push(typeof V.data(E)!="undefined"?V.data(E):typeof v[P]!="undefined"?v[P]:k[P])}var J=V.data("graph-margin-top");var U=V.data("graph-margin-right");var B=V.data("graph-margin-bottom");var r=V.data("graph-margin-left");var C=V.data("graph-xaxis-labels-enabled");var j={};var u=V.data("graph-xaxis-labels-font-size");if(typeof u!="undefined"){j.fontSize=u}var f={colors:K,chart:{renderTo:O,inverted:N,marginTop:typeof J!="undefined"?J:null,marginRight:typeof U!="undefined"?U:null,marginBottom:typeof B!="undefined"?B:null,marginLeft:typeof r!="undefined"?r:null,spacingTop:V.data("graph-spacing-top")||10,height:V.data("graph-height")||null,zoomType:V.data("graph-zoom-type")||null,polar:V.data("graph-polar")||null},title:{text:Q},subtitle:{text:V.data("graph-subtitle-text")||""},legend:{enabled:V.data("graph-legend-disabled")!="1",layout:V.data("graph-legend-layout")||"horizontal",symbolWidth:V.data("graph-legend-width")||30,x:V.data("graph-legend-x")||15,y:V.data("graph-legend-y")||0},xAxis:{categories:(V.data("graph-xaxis-type")!="datetime")?H:undefined,type:(V.data("graph-xaxis-type")=="datetime")?"datetime":undefined,reversed:V.data("graph-xaxis-reversed")=="1",opposite:V.data("graph-xaxis-opposite")=="1",showLastLabel:typeof V.data("graph-xaxis-show-last-label")!="undefined"?V.data("graph-xaxis-show-last-label"):true,tickInterval:V.data("graph-xaxis-tick-interval")||null,dateTimeLabelFormats:{second:"%e. %b",minute:"%e. %b",hour:"%e. %b",day:"%e. %b",week:"%e. %b",month:"%e. %b",year:"%e. %b"},labels:{rotation:V.data("graph-xaxis-rotation")||0,align:V.data("graph-xaxis-align")||"center",enabled:typeof C!="undefined"?C:true,style:j},startOnTick:V.data("graph-xaxis-start-on-tick"),endOnTick:V.data("graph-xaxis-end-on-tick"),min:b(x,"min"),max:b(x,"max"),alternateGridColor:V.data("graph-xaxis-alternateGridColor")||null,title:{text:V.data("graph-xaxis-title-text")||null},gridLineWidth:V.data("graph-xaxis-gridLine-width")||0,gridLineDashStyle:V.data("graph-xaxis-gridLine-style")||"ShortDot",tickmarkPlacement:V.data("graph-xaxis-tickmark-placement")||"between",lineWidth:V.data("graph-xaxis-line-width")||0},yAxis:n,tooltip:{formatter:function(){if(V.data("graph-xaxis-type")=="datetime"){return"<b>"+this.series.name+"</b><br/>"+Highcharts.dateFormat("%e. %b",this.x)+" : "+this.y}else{var i=typeof H[this.point.x]!="undefined"?H[this.point.x]:this.point.x;if(I==="pie"){return"<strong>"+this.series.name+"</strong><br />"+i+" : "+this.point.y}return"<strong>"+this.series.name+"</strong><br />"+i+" : "+this.point.name}}},credits:{enabled:false},plotOptions:{line:{dataLabels:{enabled:true},lineWidth:w},area:{lineWidth:w,shadow:typeof m!="undefined"?m:true,fillOpacity:V.data("graph-area-fillOpacity")||0.75},pie:{allowPointSelect:true,dataLabels:{enabled:true},showInLegend:V.data("graph-pie-show-in-legend")=="1",size:"80%"},series:{animation:false,stickyTracking:false,stacking:F?g:null,groupPadding:V.data("graph-group-padding")||0}},series:p,exporting:{filename:Q.replace(/ /g,"_"),buttons:{exportButton:{menuItems:null,onclick:function(){this.exportChart()}}}}};V.trigger("highchartTable.beforeRender",f);new Highcharts.Chart(f)});return this};var b=function(f,d){var g=a(f).data("graph-xaxis-"+d);if(typeof g!="undefined"){if(a(f).data("graph-xaxis-type")=="datetime"){var e=c(g);return e.getTime()-e.getTimezoneOffset()*60*1000}return g}return null};var c=function(i){var f=i.split(" ");var h=f[0].split("-");var g=null;var e=null;if(f[1]){var d=f[1].split(":");g=parseInt(d[0],10);e=parseInt(d[1],10)}return new Date(parseInt(h[0],10),parseInt(h[1],10)-1,parseInt(h[2],10),g,e)}})(jQuery);
/*Size: 18977->8633Bytes 
 Saved 54.50809%*/